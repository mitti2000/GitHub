package ch.mitti.threaduebung1;

import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class TestZaehler extends JFrame {
	private JButton start1,stop1, halt1;
	private JLabel stopwatch, clocklabel;
	private JPanel mainpanel, panel1;
	private Counter c1;
	private Clock clock;
	
	public static void main(String[] args){
		TestZaehler testZaehler = new TestZaehler();
		
	}
	
	public TestZaehler(){
		
		this.setSize(800,200);
		this.setDefaultCloseOperation(EXIT_ON_CLOSE);
		stopwatch = new JLabel("0");

		panel1 = new JPanel();
		mainpanel = new JPanel(new BorderLayout());
		panel1.setLayout(new FlowLayout());
		start1 = new JButton("start1");
		stop1 = new JButton("stop1");
		halt1 = new JButton("halt1");
		
		c1 = new Counter(clocklabel);
		
		start1.addActionListener(new ActionListener() { 
			  public void actionPerformed(ActionEvent e) { 
			    c1.start();
			  } 
			} );
		
		start2.addActionListener(new ActionListener() { 
			  public void actionPerformed(ActionEvent e) { 
			    c2.start();
			  } 
			} );
		
		stop1.addActionListener(new ActionListener() { 
			  public void actionPerformed(ActionEvent e) { 
			    c1.interrupt();
			    c1 = new Counter(counter1);
			  } 
			} );
		
		stop2.addActionListener(new ActionListener() { 
			  public void actionPerformed(ActionEvent e) { 
			    c2.interrupt();
			    c2 = new Counter(counter2);
			  } 
			} );
		
		halt1.addActionListener(new ActionListener() { 
			  public void actionPerformed(ActionEvent e) { 
			    c1.toggleStatus();
			  } 
			} );
		
		halt2.addActionListener(new ActionListener() { 
			  public void actionPerformed(ActionEvent e) { 
			    c2.toggleStatus();
			  } 
			} );
		
		panel1.add(start1);
		panel1.add(stop1);
		panel1.add(halt1);
		panel1.add(counter1);
		panel2.add(start2);
		panel2.add(stop2);
		panel2.add(halt2);
		panel2.add(counter2);
		mainpanel.add(panel1, BorderLayout.NORTH);
		mainpanel.add(panel2, BorderLayout.CENTER);
		this.add(mainpanel);
		
		this.setVisible(true);
		
	}	
}
