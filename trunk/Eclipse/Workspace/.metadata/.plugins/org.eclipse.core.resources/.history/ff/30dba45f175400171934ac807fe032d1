package ch.mitdom.compresstutorial;

import javax.swing.SwingWorker;

/**
 * Der CompressorWorker dient dazu, dass der Kompressionsvorgang in einem
 * seperaten Thread läuft und somit das GUI während der Laufzeit geupdatet werden kann.
 * Die Klasse leitet von SwingWorker ab.
 */

public class CompressorWorker extends SwingWorker {
	
	private CompressorGui compressorGui;
	private ICompressor compressor;
	
	public CompressorWorker(CompressorGui usedCompressorGui, ICompressor usedCompressor){
		this.compressorGui = usedCompressorGui;
		this.compressor = usedCompressor;
	}

	@Override
	protected Object doInBackground() throws Exception {
		if(compressor.compress()){
			compressorGui.setBtnExecute(true);
		}
		
		else{
			compressorGui.setBtnExecute(false);
		}
		return null;
	}
	
	protected void updateProcess(int progress, String filename, int length){
		compressorGui.setProgress(progress, filename, length);
	}

}
