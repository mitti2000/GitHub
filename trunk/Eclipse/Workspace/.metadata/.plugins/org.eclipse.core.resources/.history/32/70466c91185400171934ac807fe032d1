package ch.mitdom.compresstutorial;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Listener der die Decompression vorbereitet und wenn alles passt einen 
 * DecompressorWorker aufruft um die Daten zu entpacken
 */

public class DecompressListener implements ActionListener{

	DecompressorGui decompressGUI;
	IDecompressor decompressor;
	
	/**
	 * Konstrukter ben√∂tigt ein DecompressorGui als Parameter
	 * @param decompressGUI GUI vom Typ DecompressorGui
	 */
	
	public DecompressListener(DecompressorGui decompressGUI){
		this.decompressGUI = decompressGUI;
	}
	
	public void actionPerformed(ActionEvent e) {
		decompressGUI.prepareDecompress();
		this.decompressor = decompressGUI.getDecompressor();
		if(decompressGUI != null && decompressor != null){
			new DecompressorWorker(decompressGUI, decompressor).execute();
		}
	}
}
