package ch.mitti.tetris;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.event.ComponentAdapter;
import java.awt.event.ComponentEvent;

import javax.swing.BorderFactory;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.border.Border;

public class Testklasse2 extends JFrame{
	
	JPanel panBackground;
	JPanel panGame;
	int blocksH;
	int blocksW;
	
	public Testklasse2(){
		blocksH = 20;
		blocksW = 10;
		panGame = new JPanel(new GridLayout(blocksH, blocksW));		
		for(int i=0; i<(blocksH*blocksW);i++){
			JLabel label = new JLabel("Label");
		    label.setBorder(BorderFactory.createLineBorder(Color.BLACK));
		    panGame.add(label);
		}
		panBackground = new JPanel(new GridBagLayout());
		panBackground.add(panGame);
		panBackground.addComponentListener(new ComponentAdapter(){
			@Override
			public void componentResized(ComponentEvent e){
				resizePreview(panGame, panBackground);
			}
		});
		this.getContentPane().add(panBackground);
		this.setDefaultCloseOperation(EXIT_ON_CLOSE);
		this.setSize(800,800);
		this.setVisible(true);
		
	}
	
	public void resizePreview(JPanel panGame, JPanel panBackground){
		int w = this.panBackground.getWidth();
		int h = this.panBackground.getHeight();
		int field = (w/100*50)/blocksW;
		System.out.println("Breite:"+w+", Höhe:"+h+", Feld:"+field);
		int dimW = field*blocksW;
		int dimH = blocksH*field;
		this.panGame.setPreferredSize(new Dimension(dimW, dimH));
		this.panBackground.revalidate();
	}

	public static void main(String[] args) {
		Testklasse2 frame = new Testklasse2();

	}

}
